# Weekend Weather Planner

Приложение помогает выбрать город для велосипедной поездки в выходные дни, анализируя погодные условия и предлагая оптимальные маршруты.

## Откуда берутся данные

*   **Погода**: Данные запрашиваются через Open-Meteo API. Используются параметры: температура (на 2м), осадки, вероятность осадков, скорость и направление ветра (на 10м), порывы ветра, ощущаемая температура, продолжительность солнечного сияния, а также температура на высотах 1000 и 1500 м (900 и 850 гПа).
*   **Города**: Список доступных городов и их координаты зафиксированы в конфигурации приложения.
*   **Маршруты**: База GPX-треков хранится локально в приложении. Каждый трек маркирован по направлению (Север, Юг, и т.д.) для привязки к направлению ветра.
*   **Места**: Списки рекомендуемых мест (кафе, рестораны) заданы статически для каждого города.

## Анализ данных

Приложение автоматически анализирует погоду на ближайшие и следующие выходные, а также праздничные дни.

1.  **Оценка пригодности погоды**:
    *   Расчет суммарных осадков в активное время (с 09:00 до 18:00). День считается "сухим", если сумма осадков не превышает 0.5 мм.
    *   Анализ "запрещенных часов" (с 05:00 до 13:00) на предмет дождя для оценки влажности дорог перед стартом.
    *   Анализ температурного режима и силы ветра.

2.  **Подбор маршрута**:
    *   Для каждого города определяется преобладающее направление ветра.
    *   Алгоритм проверяет наличие маршрута, оптимизированного под это направление ветра (чтобы минимизировать встречный ветер).
    *   Если подходящий маршрут найден, рассчитывается его длина, профиль высоты и оценка сложности рельефа.
    *   Рассчитывается примерное время в пути (исходя из средней скорости 30 км/ч).

3.  **Рекомендации по экипировке**:
    *   На основе минимальной и максимальной температуры, а также силы ветра, формируется список необходимой одежды (тип джерси, необходимость куртки, жилетки, утеплителей и т.д.).

## Что получает пользователь

Пользователь получает инструмент для планирования выезда:

*   **Сводка по городам**: Список направлений с индикацией пригодности погоды (Сухо/Дождь) на субботу и воскресенье.
*   **Детальный прогноз**: Для каждого дня показаны температура, ощущаемая температура, скорость и порывы ветра, часы солнечного сияния.
*   **Оптимальный маршрут**: Предложение конкретного трека (GPX), который лучше всего подходит под текущий ветер.
*   **Параметры поездки**: Дистанция, набор высоты и расчетное время в пути.
*   **Чек-лист одежды**: Конкретный список вещей, которые нужно надеть, чтобы не замерзнуть и не перегреться.
*   **Инфраструктура**: Подборка мест (кафе/рестораны) в городе прибытия.

## Полезные функции интерфейса

*   **Настройка темпа**: Возможность изменять среднюю скорость (от 23 до 38 км/ч), при этом автоматически пересчитывается время в пути и прохождения контрольных точек.
*   **Интерактивная карта и профиль**: Синхронизированный просмотр — при наведении курсора на график высоты на карте отображается точка маршрута и направление ветра в этом месте.
*   **Экспорт и шеринг**: Возможность скачать GPX-файл или сразу передать его в велокомпьютер/приложение (через нативное меню "Поделиться" в мобильной версии).

## Технологии

*   **Frontend**: React, TypeScript, Vite
*   **Стили**: Tailwind CSS
*   **Карты**: MapLibre GL JS
*   **API**: Open-Meteo
